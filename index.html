<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Habit Tracker</title>
    <meta name="application-name" content="Habit Tracker • FX at Dev">
    <meta name="theme-color" content="#8b5cf6">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='128' height='128' viewBox='0 0 128 128'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' y1='0' x2='1' y2='1'%3E%3Cstop offset='0' stop-color='%238b5cf6'/%3E%3Cstop offset='1' stop-color='%235eead4'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect x='8' y='8' width='112' height='112' rx='28' fill='url(%23g)'/%3E%3Crect x='14' y='14' width='100' height='100' rx='24' fill='rgba(17,24,39,0.22)'/%3E%3Ctext x='64' y='76' text-anchor='middle' font-family='Outfit,Arial,sans-serif' font-size='44' font-weight='700' fill='white'%3EFX%3C/text%3E%3C/svg%3E">
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- GSAP (smooth horizontal scroll) -->
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <!-- Firebase (Cloud Sync) -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    
    
</head>
<body>

<div id="confetti-container"></div>
<div class="noise-overlay"></div>
<div class="orb-container">
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
    <div class="orb orb-3"></div>
</div>

<div class="container">
    <!-- Header -->
    <div class="header-section">
        <div class="brand-lockup">
            <div class="brand-mark" aria-hidden="true">HT</div>
            <div>
                <h2>Habit Dashboard</h2>
                <div style="color: var(--text-secondary); font-size: 0.9rem;">Consistent actions create consistent results.</div>
            </div>
        </div>
        <div class="controls">
            <!-- Tools -->
            <button id="themeToggleBtn" class="secondary-btn" onclick="toggleDarkMode()" title="Toggle Dark Mode" aria-label="Toggle theme"></button>
            <button class="secondary-btn" onclick="exportData()" title="Export JSON">⬇ Export</button>
            <button class="secondary-btn" onclick="document.getElementById('importFile').click()" title="Import JSON">⬆ Import</button>
            <button id="cloudSyncBtn" class="secondary-btn" onclick="openCloudSync()" title="Cloud sync across devices">☁️ Sync</button>
            <input type="file" id="importFile" class="hidden" accept=".json" onchange="importData(this)">
            
            <div class="divider"></div>
            
            <!-- Date -->
            <select id="monthSelect"></select>
            <select id="yearSelect"></select>
            
            <button class="danger-btn" onclick="resetData()" title="Reset All Data">Reset</button>
        </div>
    </div>

    <!-- Charts -->
    <div class="card chart-daily" style="margin-left: 1px;">
        <h3>Daily Activity Flow</h3>
        <div class="chart-container">
            <canvas id="lineChart"></canvas>
        </div>
    </div>
    
    <div class="card chart-radar" style="margin-left: 1px;">
        <h3>Weekly Rhythm</h3>
        <div class="chart-container">
            <canvas id="radarChart"></canvas>
        </div>
    </div>

    <div class="card chart-overall" style="margin-left: 1px;">
        <h3>Overall Progress</h3>
        <div class="chart-container" style="height: 200px;">
            <canvas id="donutChart"></canvas>
        </div>
        <div style="text-align: center; margin-top: 10px; font-size: 0.9rem; color: var(--text-secondary);">
            Completion Rate
        </div>
    </div>

    <div class="card chart-weekly" style="margin-left: 1px;">
        <h3>Weekly Totals</h3>
        <div class="chart-container">
            <canvas id="barChart"></canvas>
        </div>
    </div>

    <div class="card top-habits" style="margin-left: 1px;">
        <h3>Best Performing Habits</h3>
        <ul class="habit-rank-list" id="topHabitsList"></ul>
    </div>

    <!-- Main Tracker -->
    <div class="card tracker-section" style="margin-left: 1px;">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
            <h3>Monthly Tracker</h3>
            <span style="font-size: 0.8rem; color: var(--text-secondary);">Scroll ➡</span>
        </div>
        
        <!-- Table -->
        <div class="tracker-wrapper">
            <table id="trackerTable">
                <thead>
                    <tr id="tableHeaderRow"></tr>
                </thead>
                <tbody id="tableBody"></tbody>
            </table>
        </div>

        <!-- Add Habit Section (Moved Here) -->
        <div class="add-habit-section">
            <h4>Add New Habit:</h4>
            <div class="swatch-container" id="swatchContainer" title="Quick Palette">
                <!-- Swatches injected here -->
            </div>
            <input type="color" id="newHabitColor" value="#9b9cea" title="Custom Color">
            <input type="text" id="newHabitInput" placeholder="New Habit Name..." onkeypress="handleEnter(event)">
            <button class="primary-btn" onclick="addHabit()">+ Add Habit</button>
        </div>
    </div>

    <footer class="footer">
        © <span id="footerYear"></span> Habit Tracker <span class="dot">•</span> <span class="brand">FX at Dev</span>
    </footer>
</div>

<script src="script.js" defer></script>

</body>
</html>


